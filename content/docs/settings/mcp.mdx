---
title: MCP 配置
description: MCP（Model Context Protocol）配置指南，通过标准协议扩展 AI 能力，调用外部工具和服务。
icon: Puzzle
---

import Image from 'next/image'

## 什么是 MCP

MCP（Model Context Protocol）是一个开放标准协议，允许 AI 应用通过统一的方式连接外部数据源和工具。通过 MCP，NoteGen 可以调用外部服务来扩展 AI 助手的能力。

## 启用 MCP

在设置页面找到 MCP 配置，开启 "启用 MCP" 开关即可启用此功能。

## 配置 MCP 服务器

NoteGen 支持两种类型的 MCP 服务器连接方式：

### 标准 I/O (stdio)

适用于本地运行的 MCP 服务器，通过标准输入输出进行通信。

**配置参数：**
- **名称**：用于标识此 MCP 服务器
- **命令**：启动 MCP 服务器的命令，如 `node`、`python`、`./server`
- **参数**：启动服务器时传递的参数数组，如 `["server.js"]`
- **环境变量**：可选，设置服务器运行时的环境变量

**示例配置：**
```json
{
  "name": "本地文件系统",
  "command": "node",
  "args": ["path/to/server.js"],
  "env": {
    "API_KEY": "your-api-key"
  }
}
```

### HTTP (SSE)

适用于通过网络访问的 MCP 服务器，使用服务器推送事件进行通信。

**配置参数：**
- **名称**：用于标识此 MCP 服务器
- **URL**：MCP 服务器的 HTTP 地址
- **请求头**：可选，设置请求时的 HTTP 头信息

**示例配置：**
```json
{
  "name": "远程服务",
  "url": "https://example.com/mcp",
  "headers": {
    "Authorization": "Bearer your-token"
  }
}
```

## 测试连接

配置完成后，可以使用 "测试连接" 功能验证配置是否正确：
- 连接成功会显示可用的工具和资源列表
- 连接失败会显示错误信息，请检查配置参数

## 使用 MCP 工具

启用并配置 MCP 服务器后，在记录页面的 AI 对话中：
1. 点击 MCP 工具按钮
2. 选择可用的工具
3. AI 将自动调用选定的工具来增强对话能力

## 常见 MCP 服务器

以下是一些常用的 MCP 服务器示例：

### 文件系统访问
- **mcp-server-filesystem**：访问本地文件系统
- **GitHub**：读取和操作 GitHub 仓库

### 数据库连接
- **PostgreSQL**：连接 PostgreSQL 数据库
- **SQLite**：访问 SQLite 数据库文件

### 网络服务
- **Fetch**：发送 HTTP 请求
- **Puppeteer**：网页自动化操作

## 注意事项

1. **安全性**：只配置可信的 MCP 服务器，避免泄露敏感信息
2. **性能**：MCP 工具调用会增加响应时间，根据需要选择性启用
3. **兼容性**：确保 MCP 服务器版本与 NoteGen 兼容
4. **网络要求**：HTTP 类型的服务器需要稳定的网络连接
